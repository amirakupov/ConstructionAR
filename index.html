<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>MindAR AR Exercise</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="stylesheet" href="css/style.css" />
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>
    <script type="module" src="js/app.js"></script>
</head>
<body>
<div id="tutorial" class="tutorial">
    <div class="tutorial-content">
        <h2>How to use this AR</h2>
        <ol>
            <li>Point the camera at the printed marker card.</li>
            <li>Wait until the 3D objects appear on the card.</li>
            <li>Tap the helmet to iterate</li>
            <li>Use the top menu to resize the pipe and toggle high contrast mode.</li>
        </ol>
        <button id="btnTutorialClose" class="ui-button">Got it</button>
    </div>
</div>
<div id="ui">
    <label class="ui-label" for="scaleSlider">
        Size
        <input
                id="scaleSlider"
                type="range"
                min="0.2"
                max="1.5"
                step="0.1"
                value="0.4" />
    </label>

    <button id="btnContrast" class="ui-button">High Contrast: Off</button>
</div>

<a-scene
        mindar-image="imageTargetSrc: https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.2.5/examples/image-tracking/assets/card-example/card.mind;"
        color-space="sRGB"
        renderer="colorManagement: true, physicallyCorrectLights: true"
        vr-mode-ui="enabled: false"
        device-orientation-permission-ui="enabled: false"
        embedded
        cursor="rayOrigin: mouse"
        raycaster="objects: .clickable, .placeable"
>
    <a-assets>
        <img
                id="markerImage"
                crossorigin="anonymous"
                src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.2.5/examples/image-tracking/assets/card-example/card.png"
        />
        <a-asset-item id="helmetModel" src="./models/scene.gltf"></a-asset-item>
        <audio id="helmetSound" src="./audio/new-sound.mp3" preload="auto"></audio>
    </a-assets>

    <a-camera look-controls="enabled: false"></a-camera>

    <a-entity id="markerRoot" mindar-image-target="targetIndex: 0">
        <a-plane
                src="#markerImage"
                position="0 0 0"
                width="1"
                height="0.6"
                rotation="0 0 0">
        </a-plane>
        <a-entity
                id="helmet"
                class="clickable"
                gltf-model="#helmetModel"
                position="0 0.1 0.2"
                scale="0.4 0.4 0.4"
                drag-rotate>
        </a-entity>
        <a-plane
                id="placementPlane"
                class="placeable"
                position="0.75 0.75 0.50"
                width="1"
                height="0.6"
                rotation="0 0 0"
                scale="0.4 0.4 0.4"
                material="color: #ffffff; opacity: 0; transparent: true"
                tap-to-place="target: #helmet">
        </a-plane>
    </a-entity>
</a-scene>


</body>
</html>
